<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Listing Special Tokens on Scale.Farm | Scale Farm </title> <meta name="author" content="Scale Farm"> <meta name="description" content="Guide for listing exotic tokens like rebasing, fee-on-transfer, and ERC404 tokens on Scale.Farm."> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/news/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/news/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/news/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/news/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/news/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://alshedivat.github.io/news/blog/2023/fees-on-transfer/"> <script src="/news/assets/js/theme.js?a81d82887dd692e91686b43de4542f18"></script> <link defer rel="stylesheet" href="/news/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>
    initTheme();
  </script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/news/"> <span class="font-weight-bold">Scale</span> Farm </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/news/">about </a> </li> <li class="nav-item active"> <a class="nav-link" href="/news/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/news/publications/">publications </a> </li> <li class="nav-item "> <a class="nav-link" href="/news/projects/">projects </a> </li> <li class="nav-item "> <a class="nav-link" href="/news/projects/">projects </a> </li> <li class="nav-item "> <a class="nav-link" href="/news/repositories/">repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/news/cv/">cv </a> </li> <li class="nav-item "> <a class="nav-link" href="/news/teaching/">teaching </a> </li> <li class="nav-item "> <a class="nav-link" href="/news/people/">people </a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">submenus </a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item " href="/news/books/">bookshelf</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/news/blog/">blog</a> </div> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Listing Special Tokens on Scale.Farm</h1> <p class="post-meta"> Created on October 19, 2023 </p> <p class="post-tags"> <a href="/news/blog/2023"> <i class="fa-solid fa-calendar fa-sm"></i> 2023 </a>   ·   <a href="/news/blog/tag/docs"> <i class="fa-solid fa-hashtag fa-sm"></i> docs</a>   <a href="/news/blog/tag/special"> <i class="fa-solid fa-hashtag fa-sm"></i> special</a>   <a href="/news/blog/tag/tokens"> <i class="fa-solid fa-hashtag fa-sm"></i> tokens</a>   <a href="/news/blog/tag/exotic"> <i class="fa-solid fa-hashtag fa-sm"></i> exotic</a>   <a href="/news/blog/tag/rebasing"> <i class="fa-solid fa-hashtag fa-sm"></i> rebasing</a>   <a href="/news/blog/tag/fee-on-transfer"> <i class="fa-solid fa-hashtag fa-sm"></i> fee-on-transfer</a>   ·   <a href="/news/blog/category/docs"> <i class="fa-solid fa-tag fa-sm"></i> docs</a> </p> </header> <article class="post-content"> <div id="markdown-content"> <h1 id="list-special-tokens">List Special tokens</h1> <h2 id="compatibility">Compatibility</h2> <p>Our Classic Volatile Pools fully support Trading and Liquidity additions of all Special tokens such as Rebasing tokens, Elastic Supply tokens, ERC404s, Fee-on-Transfer tokens, etc.</p> <p>However, to earn the Trade Fees generated from such tokens, you must <strong>exempt</strong> the trade fees generated from double taxation.</p> <p>Exotic tokens must make the <code class="language-plaintext highlighter-rouge">pairFees</code> address of all their pools exempt of any taxes or rebases, or else Liquidity Providers might not be able to claim the trade-fee rewards!</p> <h2 id="finding-pairs-fees-contract">Finding pair’s “Fees” contract”</h2> <p>You can easily find it on the liquidity pool’s ftmscan page on the ‘Read Contract’ tab under the <strong><code class="language-plaintext highlighter-rouge">fees</code></strong> heading.</p> <h2 id="effects-of-exemptions">Effects of exemptions</h2> <p>Exempting the pair <code class="language-plaintext highlighter-rouge">Fees</code> address will not impact the transfer taxes taking place during trades or any other interactions with the liquidity pool. Your rebases or taxes will still work as expected. <strong>This step only removes the taxes/rebases from the trade-fee portion, not the actual trade volume!</strong></p> <h2 id="gauges--bribes">Gauges &amp; Bribes</h2> <p>Scale.Farm’s Gauges &amp; Bribes are the First DEX to natively support Exotic tokens. <strong>Gauges &amp; Bribes Dont require special exemptions.</strong></p> <p>But make sure to exempt the pair <code class="language-plaintext highlighter-rouge">Fees</code> address from any transfer-tax, rebase (positive or negative), Reflection rewards or other special features. If you dont, you wont be able to enjoy all the features of Scale.Farm!</p> <h2 id="correcting-previously-generated-fees">Correcting previously generated fees</h2> <p>In case you had not whitelisted the Fees address, it could have accrued a deficit of tokens. As in, if it ad expected 100 tokens and got only 99, it would think it has 100 but while transferring fees during fees claims, it would encounter an error and revert, since it has just 99 and not 100.</p> <p>Solution to this is to simply sending it the remaining tokens.</p> <ul> <li>First of all, make sure it has been exempted or whitelisted by the Token’s team or creator.</li> <li>Check how much of Fees was collected ever since the creation.</li> <li>Now transfer it the amount that might have been charged as a trade fees. <blockquote> <p>If it was sent 500 tokens but received only 450 tokens (10% tax), then you need to send it the 50 tokens Plus some more to account for the taxation during your transfer to it. In this case, you should send it 50 (=10% of 500, the total lifetime fees)</p> <ul> <li>5 (=10% of 50, the deficit)</li> <li>1 (a little bit more) <strong>= 56 tokens</strong> </li> </ul> </blockquote> </li> </ul> <h1 id="changes-needed-to-your-tokens-smart-contract-code">Changes needed to your Token’s Smart Contract Code</h1> <p>Scale.Farm is not a UniswapV2 fork, and its routers and pairs are slightly different.</p> <p>you would need to make these small adjustments to your contract if your Token involves deployment to a LP on the DEX during its Constructor() call</p> <p>the changes required are minimal:</p> <h2 id="1-addliquidity-function">1. addLiquidity() function</h2> <p>in here, we have one additional parameter called <code class="language-plaintext highlighter-rouge">stable</code> which you must include alongside the token0 and token1 addresses</p> <h2 id="2-swapexactethtokenfortokensethsupportingfeesontransfertokens">2. swapExact&lt;ETH/Token&gt;For&lt;Tokens/ETH&gt;SupportingFeesOnTransferTokens</h2> <p>in here, Uniswapv2 forks use the <code class="language-plaintext highlighter-rouge">address[] memory path</code>. in case of Scale.Farm, you should use <code class="language-plaintext highlighter-rouge">Route[] memory path</code>, where Route is a <code class="language-plaintext highlighter-rouge">Struct</code>:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Struct Route {
  address from;
  addresss to;
  bool stable;
}
</code></pre></div></div> <h2 id="3-token-name-and-symbol">3. Token Name and Symbol</h2> <p>Instead of a public string variable, we recommend making it a constant or a function. dont make it an immutable variable, make it a constant instead, or use a function like</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function name() external pure returns(string memory) { return "My Token!"; }
function symbol() external pure returns(string memory) { return "MYTOKEN"; }
</code></pre></div></div> <p>that should be all thats needed.</p> <h1 id="max-supply-limit-for-suppported-tokens">MAX SUPPLY LIMIT for Suppported Tokens</h1> <p>another thing to note is that your token supply should be a max of 36 digits including the decimals. for example EQUAL has 18 decimals and a max supply of 21 million = 18+8 = 24 digits. if you want more token supply, then we suggest reducing decimals to 9 or 6 and then you can have a token with 999 999 999 999 999 999 999 999 999 999 max supply with 6 decimal precision (so 30+6=36) That is, make <code class="language-plaintext highlighter-rouge">YourToken.totalSupply()</code> less than solidity’s <code class="language-plaintext highlighter-rouge">type(uint224).max</code> to be safe.</p> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="https://blog.google/technology/ai/google-gemini-update-flash-ai-assistant-io-2024/" target="_blank" rel="external nofollow noopener">Google Gemini updates: Flash 1.5, Gemma 2 and Project Astra</a> <svg width="1rem" height="1rem" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"> <path d="M17 13.5v6H5v-12h6m3-3h6v6m0-6-9 9" class="icon_svg-stroke" stroke="#999" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path> </svg> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="https://medium.com/@al-folio/displaying-external-posts-on-your-al-folio-blog-b60a1d241a0a?source=rss-17feae71c3c4------2" target="_blank" rel="external nofollow noopener">Displaying External Posts on Your al-folio Blog</a> <svg width="1rem" height="1rem" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"> <path d="M17 13.5v6H5v-12h6m3-3h6v6m0-6-9 9" class="icon_svg-stroke" stroke="#999" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path> </svg> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/news/blog/2025/scale-liquidity/">Market Making SCALE</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/news/blog/2025/emissions/">SCALE Emissions</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/news/blog/2025/scale-farm-relaunch/">Introducing, Scale.Farm</a> </li> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Scale Farm. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/news/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/news/assets/js/masonry.js?a0db7e5d5c70cc3252b3138b0c91dcaf" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/news/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/news/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/news/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/news/assets/js/copy_code.js?c8a01c11a92744d44b093fc3bda915df" type="text/javascript"></script> <script defer src="/news/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/news/assets/js/mathjax-setup.js?a5bb4e6a542c546dd929b24b8b236dfd"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script defer src="/news/assets/js/progress-bar.js?2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script src="/news/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>
    addBackToTop();
  </script> <script type="module" src="/news/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script src="/news/assets/js/search-setup.js?6c304f7b1992d4b60f7a07956e52f04a"></script> <script src="/news/assets/js/search-data.js"></script> <script src="/news/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>